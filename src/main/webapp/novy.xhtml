<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                template="./WEB-INF/masterpage.xhtml"
                xmlns:pe="http://primefaces.org/ui/extensions"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core">
    <ui:define name="content">
        <br />
        <h1>Pridávanie nových filmov</h1>
        <br />
        
        <h:form>
            <h:inputText value="#{novyBean.search}" label="Zadaj názov, alebo jeho časť">
            </h:inputText>
            <!--<p:commandButton value="Hľadaj" action="#{novyBean.zrobHladanie}" label="Hľadaj" onclick="PF('statusDialog').show();" oncomplete="PF('statusDialog').hide();" update="filmy" />-->
            <p:commandButton value="Hľadaj" action="#{novyBean.zrobHladanie}" label="Hľadaj" update="filmyVysledok,filmUdaje" />
<!--            <p:commandButton value="Hľadaj" action="#{novyBean.zrobHladanie}" label="Hľadaj" ajax="false" />
            <h:commandButton value="Hľadaj" action="#{novyBean.zrobHladanie}" label="Hľadaj" />-->
        </h:form>
        
        <h:panelGroup id="filmyVysledok">
            <h:form rendered="#{novyBean.mameVysledky}">
                <p:panelGrid columns="3">
                    <h:outputLabel value="Výsledky:"/>
                    <h:selectOneListbox value="#{novyBean.zvoleny}">
                        <f:selectItems value="#{novyBean.vysledkyHladania}" var="entry" actionListener="" itemLabel="#{entry.getNazovRok()}" itemValue="#{entry.link}" />
                    </h:selectOneListbox>
                    <p:commandButton value="Natiahni" action="#{novyBean.natiahniUdaje}" label="Natiahni" onclick="PF('statusDialog').show();" oncomplete="PF('statusDialog').hide();" update="filmUdaje" />
                </p:panelGrid>
            </h:form>
        </h:panelGroup>
        
        <h:panelGroup id="filmUdaje">
            <h:form rendered="#{novyBean.mameVysledky}">
                <p:panelGrid columns="2">
                    <p:outputLabel>Názov:</p:outputLabel>
                    <p:inputText value="#{novyBean.film.nazov}"/>

                    <p:outputLabel>Rok:</p:outputLabel>
                    <p:inputText value="#{novyBean.film.rok}"/>

                    <p:outputLabel>Dĺžka (minutáž):</p:outputLabel>
                    <p:inputText value="#{novyBean.film.minutaz}"/>

                    <p:outputLabel>Herci:</p:outputLabel>
                    <p:inputText value="#{novyBean.film.herci}"/>

                    <p:outputLabel>Krajina:</p:outputLabel>
                    <p:inputText value="#{novyBean.film.krajina}"/>

                    <p:outputLabel>Žáner:</p:outputLabel>
                    <p:inputText value="#{novyBean.film.zaner}"/>

                    <p:outputLabel>Alt. názvy:</p:outputLabel>
                    <p:inputText value="#{novyBean.film.altNazvy}"/>

                    <p:outputLabel>ČSFD link:</p:outputLabel>
                    <p:inputText value="#{novyBean.film.link}"/>

<!--                    <p:outputLabel>special:</p:outputLabel>
                    <p:inputText value="#{novyBean.film.content}"/>
                    <p:inputTextarea value="#{novyBean.film.content}"/>-->
                </p:panelGrid>

                <p:commandButton value="Založ" action="#{novyBean.zalozFilm}" label="Založ do databázy" onclick="PF('statusDialog').show();" oncomplete="PF('statusDialog').hide();" />
            </h:form>
        </h:panelGroup>
        
    </ui:define>
</ui:composition>

